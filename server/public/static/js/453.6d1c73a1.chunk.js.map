{"version":3,"file":"static/js/453.6d1c73a1.chunk.js","mappings":"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","sources":["api/admins.js","functions/admins.js","pages/OnBehalfLeave.jsx"],"sourcesContent":["import axios from \"axios\";\r\n// const url = \"http://localhost:5000/admin\";\r\nconst url = \"https://leavesmanagement.herokuapp.com/admin\"\r\nexport const allEmployees = (id) => axios.post(`${url}/usersList`,{id:id})\r\nexport const createEmployee = (id,user) => axios.post(`${url}/createUser`,{id:id,data:user});\r\nexport const deleteEmployee = (id,uid) => axios.post(`${url}/deleteUser`,{id:id,uid:uid});\r\nexport const editEmployee = (id,uid,user) => axios.patch(`${url}/editUser`,{id:id,uid:uid,data:user});\r\nexport const employeesLeaves = (id,data) => axios.post(`${url}/employeesLeaves`,{id:id,data:data});\r\nexport const getEmployees=(id)=>axios.post(`${url}/getEmployeesName`,{id:id})\r\n","import * as api from \"../api/admins\";\r\nexport const allEmployees = async (id) => {\r\n    try {\r\n      const result= await api.allEmployees(id);\r\n      return result.data;\r\n    } catch (error) {\r\n      return (error.response.data);\r\n    }\r\n  };\r\n  export const deleteEmployee = async (id,uid) => {\r\n    try {\r\n      const result  = await api.deleteEmployee(id,uid);\r\n      \r\n      return result.data;\r\n    } catch (error) {\r\n      return (error.response.data);\r\n    }\r\n  };\r\n  export const createEmployee = async (id,user) => {\r\n    try {\r\n      const result = await api.createEmployee(id,user);\r\n      return result.data;\r\n    } catch (error) {\r\n      return (error.response.data);\r\n    }\r\n  };\r\n  export const editEmployee = async (id,uid,user) => {\r\n    try {\r\n      const result  = await api.editEmployee(id,uid,user);\r\n      return result.data;\r\n    } catch (error) {\r\n      return (error.response.data)\r\n    }\r\n  };\r\n  export const employeesLeaves = async (id,data) => {\r\n    try {\r\n      const result  = await api.employeesLeaves(id,data);\r\n      return result.data;\r\n    } catch (error) {\r\n      return (error.response.data);\r\n    }\r\n  };\r\n  export const getEmployees= async (id) => {\r\n    try {\r\n      const  result = await api.getEmployees(id);\r\n      return result.data;\r\n    } catch (error) {\r\n      return (error.response.data);\r\n    }\r\n  };","import React, { useState, useEffect } from \"react\";\r\nimport { createNewLeaveRequest, getManagers } from \"../functions/employees\";\r\nimport { getEmployees} from \"../functions/admins\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { setStartDateHandler, setEndDateHandler,setReset } from \"../store/applyForLeave\";\r\nimport AppliedModal from \"../UI/Modals/AppliedModal\";\r\nimport {\r\n  Box,\r\n  Typography,\r\n  TextField,\r\n  Button,InputLabel, MenuItem,FormControl,Select \r\n} from \"../utlis/materialUIComponents\";\r\n\r\n\r\nimport { styled } from \"@mui/material/styles\";\r\nimport DateRange from \"../components/applyRequest/DateRange\";\r\nconst Text = styled(Typography)(({ theme }) => ({\r\n  [theme.breakpoints.down(\"md\")]: {\r\n    fontSize: \"28px\",\r\n  },\r\n}));\r\nconst Icon = styled(Typography)(({ theme }) => ({\r\n  [theme.breakpoints.down(\"md\")]: {\r\n    fontSize: \"20px\",\r\n  },\r\n}));\r\n\r\n\r\nconst OnBehalfLeave = () => {\r\n  const dispatch = useDispatch();\r\n  const [isError, setError] = useState(false);\r\n  const id = useSelector((state) => state.authData.id);\r\n  const startDate = useSelector((state) => state.leave.startDate);\r\n  const endDate = useSelector((state) => state.leave.endDate);\r\n  const [reasonValue, setReasonValue] = useState(\"\");\r\n  const [managers, setManagers] = useState([]);\r\n  const [manager, setManager] = React.useState(\"\");\r\n  const [employees,setEmployees]=useState([])\r\n  const [employee,setEmployee]=useState(\"\")\r\n  const [open, setOpen] = React.useState(false);\r\n  const handleOpen = () => setOpen(true);\r\n  const handleClose = () => setOpen(false);\r\n  useEffect(() => {\r\n    const data = async () => {\r\n      dispatch(setStartDateHandler(new Date().toISOString()));\r\n      dispatch(setEndDateHandler(new Date().toISOString()));\r\n      try {\r\n        const result = await getManagers(id);\r\n        const employeesData=await getEmployees(id);\r\n        if(result.success){\r\n          setManagers(result.data);\r\n        }\r\n        if(employeesData.success){\r\n          setEmployees(employeesData.data);\r\n        }\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    };\r\n    data();\r\n  }, [dispatch]);\r\n\r\n\r\n  const handleChange = (event) => {\r\n    setManager(event.target.value);\r\n  };\r\n  const applyForLeaveHandler = async () => {\r\n    if (employee===\"\") {\r\n      setError(\"employee\");\r\n      \r\n    } else if (manager === \"\") {\r\n      setError(\"manager\");\r\n    }else if(reasonValue === \"\"){\r\n      setError(\"reason\");\r\n\r\n    }\r\n    else{\r\n\r\n    \r\n    const request = {\r\n      reason: reasonValue,\r\n      fromDate: startDate,\r\n      toDate: endDate,\r\n      manager: manager,\r\n    };\r\n    const result = await createNewLeaveRequest(request, employee);\r\n    if (result.success) {\r\n      handleOpen();\r\n      dispatch(setReset(true))\r\n      setManager(\"\")\r\n      setEmployee(\"\")\r\n      setReasonValue(\"\")\r\n    }\r\n}\r\n  };\r\n  return (\r\n    <>\r\n      <AppliedModal open={open} handleClose={handleClose}/>\r\n      <Box sx={{ display: \"flex\", justifyContent: \"center\", mt: 3 }}>\r\n        <Icon\r\n          variant=\"h4\"\r\n          gutterBottom\r\n          sx={{\r\n            fontFamily: \"Montserrat\",\r\n            fontWeight: 600,\r\n            fontSize: \"32px\",\r\n          }}\r\n        >\r\n          <img src=\"/icons/myLeaves.png\" alt=\"\" />\r\n        </Icon>\r\n        <Text\r\n          variant=\"h4\"\r\n          gutterBottom\r\n          sx={{\r\n            fontFamily: \"Montserrat\",\r\n            fontWeight: 600,\r\n            fontSize: \"28px\",\r\n            ml: 3,\r\n            mb: 3,\r\n          }}\r\n        >\r\n          On Behalf Leave\r\n        </Text>\r\n      </Box>\r\n      {/* Select Employee*/}\r\n\r\n      <Box\r\n        sx={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          mt: 2,\r\n          fontFamily: \"Montserrat\",\r\n        }}\r\n      >\r\n        <FormControl sx={{ width: \"90%\" }} error={isError === \"employee\" ? true : false}>\r\n          <InputLabel id=\"demo-simple-select-label\" >\r\n            Select your Employee\r\n          </InputLabel>\r\n          <Select\r\n            labelId=\"demo-simple-select-label\"\r\n            id=\"demo-simple-select\"\r\n            value={employee}\r\n            label=\"Select your manager\"\r\n            onChange={(e)=>setEmployee(e.target.value)}\r\n            sx={{mb:0.5}}\r\n          >\r\n            {employees.length > 0\r\n              ? employees.map((val) => {\r\n                  return (\r\n                    <MenuItem key={val._id} value={val._id}>\r\n                      {val.name}\r\n                    </MenuItem>\r\n                  );\r\n                })\r\n              : \"no found\"}\r\n          </Select>\r\n        </FormControl>\r\n      </Box>\r\n      <DateRange />\r\n\r\n      {/* Select Manager */}\r\n\r\n      <Box\r\n        sx={{\r\n          display: \"flex\",\r\n          justifyContent: \"center\",\r\n          mt: 2,\r\n          fontFamily: \"Montserrat\",\r\n        }}\r\n      >\r\n        <FormControl sx={{ width: \"90%\" }} error={isError === \"manager\" ? true : false}>\r\n          <InputLabel id=\"demo-simple-select-label\">\r\n            Select your manager\r\n          </InputLabel>\r\n          <Select\r\n            labelId=\"demo-simple-select-label\"\r\n            id=\"demo-simple-select\"\r\n            value={manager}\r\n            label=\"Select your manager\"\r\n            onChange={handleChange}\r\n          >\r\n            {managers.length > 0\r\n              ? managers.map((val) => {\r\n                  return (\r\n                    <MenuItem key={val.name} value={val._id}>\r\n                      {val.name}\r\n                    </MenuItem>\r\n                  );\r\n                })\r\n              : \"no found\"}\r\n          </Select>\r\n        </FormControl>\r\n      </Box>\r\n      {/* tell your reason */}\r\n\r\n      <Box sx={{ display: \"flex\", justifyContent: \"center\", mt: 2 }}>\r\n        <TextField\r\n          id=\"outlined-multiline-static\"\r\n          label=\" Tell your reason\"\r\n          multiline\r\n          sx={{ width: \"90%\" }}\r\n          rows={3}\r\n          value={reasonValue}\r\n          error={isError === \"reason\" ? true : false}\r\n          onChange={(e) => setReasonValue(e.target.value)}\r\n        />\r\n      </Box>\r\n      <Box sx={{ display: \"flex\", justifyContent: \"center\", mt: 4 }}>\r\n        <Button\r\n          onClick={applyForLeaveHandler}\r\n          variant=\"outlined\"\r\n          sx={{\r\n            color: \"#1F2533\",\r\n            fontFamily: \"Montserrat\",\r\n            width: \"200px\",\r\n            fontWeight: 600,\r\n            fontSize: \"14px\",\r\n            border: 2,\r\n            borderColor: \"#0A1833\",\r\n            \"&:hover\": {\r\n              backgroundColor: \"#0A1833\",\r\n              color: \"#ffffff\",\r\n              border: 3,\r\n              borderColor: \"#0A1833\",\r\n            },\r\n          }}\r\n        >\r\n          Apply\r\n        </Button>\r\n      </Box>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OnBehalfLeave;\r\n"],"names":["url","allEmployees","id","axios","createEmployee","user","data","deleteEmployee","uid","editEmployee","employeesLeaves","getEmployees","api","result","response","Text","styled","Typography","theme","breakpoints","down","fontSize","Icon","dispatch","useDispatch","useState","isError","setError","useSelector","state","authData","startDate","leave","endDate","reasonValue","setReasonValue","managers","setManagers","React","manager","setManager","employees","setEmployees","employee","setEmployee","open","setOpen","useEffect","setStartDateHandler","Date","toISOString","setEndDateHandler","getManagers","employeesData","success","console","log","applyForLeaveHandler","request","reason","fromDate","toDate","createNewLeaveRequest","setReset","handleClose","sx","display","justifyContent","mt","variant","gutterBottom","fontFamily","fontWeight","src","alt","ml","mb","width","error","labelId","value","label","onChange","e","target","length","map","val","_id","name","event","multiline","rows","onClick","color","border","borderColor","backgroundColor"],"sourceRoot":""}